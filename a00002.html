
<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.11"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>OpenGR: Compilation</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
        <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSsymbols.js", "TeX/AMSmath.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
        <link href="tabs.css" rel="stylesheet" type="text/css"/>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="doxy-boot.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <img alt="OpenGR-logo" src="logo_dox.png"/>
                    <div id="projectbrief">A 3D Global Registration Library</div>
                    <!-- <a class="navbar-brand">OpenGR V1.2.0(cba621e)</a> -->
                </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">User documentation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Compilation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>OpenGR is supported on Linux, MacOS and Windows platforms, with continuous testing. The library is now header only, and distributed with a cmake package. Demo applications and tests are also provided</p>
<p>This page reviews the following aspects:</p><ul>
<li>Build from source: how to install the library, compile the tests and install the applications: <a href="#library">here</a></li>
<li>CMake package: how to use the library in your own software: <a href="#usage">here</a></li>
<li>a note about compilation mode and performances: <a href="#perfs">here</a></li>
</ul>
<h2><a class="anchor" id="library"></a> Compiling the library, applications and tests</h2>
<p>For people in a hurry: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;git clone https://github.com/STORM-IRIT/OpenGR.git</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;mkdir build</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;cd build</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;cmake .. -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=./install</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;make install</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;cd install/scripts/</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;./run-example.sh</div></div><!-- fragment --><h3>Dependencies</h3>
<p>OpenGR takes care of its own dependencies, and downloads them when required. As a result, <b>you may need an internet connection for the first compilation</b>.</p>
<p>The libraries and the standalone application require:</p><ul>
<li><a href="http://eigen.tuxfamily.org/">Eigen</a>. The library is automagically downloaded and configured by the cmake process. If you need to force using Eigen from a specific path, call CMAKE with <code>-DEIGEN3_INCLUDE_DIR=/path/to/eigen</code>.</li>
</ul>
<p>IO and tests:</p><ul>
<li><a href="http://www.boost.org/doc/libs/1_57_0/libs/filesystem/doc/index.htm">Boost-filesystem</a> (optionnal), used to read dataset folders. Requires Boost version: 1.57 or more.</li>
</ul>
<h3>CMake Options</h3>
<p>Our CMake scripts can be configured using the following options:</p><ul>
<li>Compilation rules<ul>
<li><code>OPTION (OpenGR_COMPILE_TESTS "Enable testing" TRUE)</code></li>
<li><code>OPTION (OpenGR_COMPILE_APPS "Compile demo applications (including the Super4PCS standalone)" TRUE)</code></li>
<li><code>OPTION (IO_USE_BOOST "Use boost::filesystem for texture loading" TRUE)</code></li>
<li><code>OPTION (OpenGR_USE_CHEALPIX "Use Chealpix for orientation filtering (deprecated)" FALSE)</code> We recommend to keep this option to <code>FALSE</code>.</li>
</ul>
</li>
<li>Advanced functionalities<ul>
<li><code>+OPTION (OpenGR_USE_WEIGHTED_LCP "Use gaussian weights for point samples when computing LCP" FALSE)</code> Was implicitely set to <code>FALSE</code> in previous release.</li>
</ul>
</li>
<li>Extras<ul>
<li><code>OPTION (DL_DATASETS "Download demo datasets and associated run scripts" FALSE)</code></li>
</ul>
</li>
<li>Debug options<ul>
<li><code>OPTION (ENABLE_TIMING "Enable computation time recording" FALSE)</code></li>
</ul>
</li>
</ul>
<p>Options can be set by calling <code>cmake -DMY_OPTION=TRUE</code>, or by editing the file <a href="https://github.com/nmellado/Super4PCS/blob/master/CMakeLists.txt">CMakeList.txt</a> (not recommended).</p>
<h3>Compilation targets</h3>
<p>Our CMAKE scripts provide several targets:</p><ul>
<li><code>all</code>: build the libraries and the demos, if enabled with <code>OpenGR_COMPILE_APPS</code>,</li>
<li><code>install</code>: build and install the libraries, the cmake package, and if requested the demo applications. This is <b>recommended</b> target. It can be customized by calling cmake with <code>-DCMAKE_INSTALL_PREFIX=your_path</code>.</li>
<li><code>OpenGR-PCLWrapper</code>/<code>Super4PCS</code>: build the demos application,</li>
<li><code>buildtests</code>: compile tests. This target is generated only if <code>OpenGR_COMPILE_TESTS</code> option is set to <code>TRUE</code>,</li>
<li><code>test</code>: run the tests locally</li>
<li><code>doc</code>: run doxygen to compile the documentation</li>
<li><code>dl-datasets</code>: download the demo datasets.</li>
</ul>
<h3>Installed directories structure:</h3>
<p>After compilation and installation, you should obtain the following structure: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;installation-directory/</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  - assets     -&gt; contains the demo hippo files, and the downloaded datasets if any</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;  - bin        -&gt; contains the main Super4PCS application</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  - include    -&gt; header files of the Super4PCS library</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;  - lib        -&gt; library binaries: super4pcs_algo and super4pcs_io, and chealpix if compiled</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  - lib/cmake  -&gt; cmake package files</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  - scripts    -&gt; demo scripts allowing to register the hippo meshes</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;  - doc        -&gt; this documentation, compiled using Doxygen</div></div><!-- fragment --><hr/>
<h3>Linux and MacOS Builds</h3>
<p>Nothing specific here, just follow the <a href="#library">aforementionned</a> instructions.</p>
<hr/>
<h3>Windows Builds</h3>
<p>OpenGR requires c++11 features and CMake support. We recommend to use Microsoft Visual Studio 2019 (2017 should also work) with <a href="https://docs.microsoft.com/en-us/cpp/build/cmake-projects-in-visual-studio?view=vs-2019">CMake support</a>. CMake standalone is also supported (and used for Continuous Integration on AppVeyor), but not recommended.</p>
<p>By default, the project can be opened and compiled straight away with no parameter setting.</p>
<p>If you want to compile with Boost support, the dependency directories must be properly configured in Visual Studio. They can be set either when calling CMake or globally by configuring Visual Studio (see how-to <a href="https://social.msdn.microsoft.com/Forums/vstudio/en-US/a494abb8-3561-4ebe-9eb0-6f644a679862/visual-studio-2010-professional-how-to-add-include-directory-for-all-projects?forum=vcgeneral#7b5ab5f2-f793-4b0e-a18a-679948d12bdd">here</a>). </p><div class="image">
<img src="VStudio-globalFolders.jpg" alt="VStudio-globalFolders.jpg"/>
</div>
<hr/>
<h2><a class="anchor" id="usage"></a> Use OpenGR library in your own application</h2>
<p><b>From release v.1.2</b>, OpenGR is now header-only, and provides a CMake package generated during the installation process. The target namespace is <code>gr</code>.</p>
<p>To use it in your own application, add the following lines to your project file: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;project(OpenGR-externalAppTest)</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;cmake_minimum_required(VERSION 3.3)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;set (CMAKE_CXX_STANDARD 11)</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;find_package(OpenGR REQUIRED)</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;find_package( Eigen3 REQUIRED )</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;add_executable(${PROJECT_NAME} main.cpp)</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;target_link_libraries(${PROJECT_NAME} gr::algo Eigen3::Eigen)</div></div><!-- fragment --><p>In addition, CMake must be ran so that <code>CMAKE_PREFIX_PATH</code> contains <code>OpenGR_install_dir/lib/cmake</code> when compiling <code>OpenGR-externalAppTest</code>.</p>
<p>OpenGR files will be located in the <code>gr</code> folder. For instance, to use the Super4PCS algorithm: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="a00086.html">gr/algorithms/match4pcsBase.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="a00083.html">gr/algorithms/FunctorSuper4pcs.h</a>&gt;</span></div></div><!-- fragment --><p> This functionality is tested by our continuous integration system. Checkout the <a href="https://github.com/STORM-IRIT/OpenGR/tree/master/tests/externalAppTest">externalAppTest</a> for a working example.</p>
<h2><a class="anchor" id="perfs"></a> Debug mode and performances</h2>
<p>Note that we heavily use template mechanisms that requires to enable inlining in order to be efficient. Compiling in Debug mode without inlining may result in longer running time than expected. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Generated on Tue Aug 11 2020 09:56:54 for OpenGR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
